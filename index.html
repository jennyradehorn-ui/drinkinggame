<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drink Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- STARTMENY -->
  <div id="start-menu">
    <h1>ğŸ¹ Nellie & Jennys Drink Game ğŸ¹</h1>
    <p>VÃ¤lj sprÃ¥k / Choose Language</p>
    <div id="language-selection">
      <button data-lang="sv">Svenska</button>
      <button data-lang="en">English</button>
    </div>
  </div>

  <!-- SPELET -->
  <div id="game" style="display:none;">
    <button id="start-game">Starta spelet / Start Game</button>
    <div id="card-container">
      <div id="card-category"></div>
      <div id="card-text"></div>
    </div>
    <button id="next-card">NÃ¤sta kort / Next Card</button>
  </div>

  <script>
document.addEventListener('DOMContentLoaded', function() {
  let cards = [];
  let currentLang = 'sv';
  let currentIndex = 0;

  // Ladda Cards.json
  fetch('Cards.json')
    .then(response => response.json())
    .then(data => {
      cards = data;
    });

  // SprÃ¥kval
  document.querySelectorAll('#language-selection button').forEach(btn => {
    btn.addEventListener('click', () => {
      currentLang = btn.dataset.lang;
      document.getElementById('start-menu').style.display = 'none';
      document.getElementById('game').style.display = 'block';
    });
  });

  // Starta spel
  document.getElementById('start-game').addEventListener('click', () => {
    currentIndex = 0;
    showCard();
  });

  // NÃ¤sta kort
  document.getElementById('next-card').addEventListener('click', () => {
    currentIndex++;
    if (currentIndex >= cards.length) currentIndex = 0;
    showCard();
  });

  // Visa kort
  function showCard() {
    const card = cards[currentIndex];
    const container = document.getElementById('card-container');
    const textDiv = document.getElementById('card-text');
    const catDiv = document.getElementById('card-category');

    textDiv.textContent = currentLang === 'sv' ? card.text_sv : card.text_en;
    catDiv.textContent = card.cat;

    // Ta bort gamla emoji-klasser
    container.className = "";

    // FÃ¤rg + emoji-klass per kategori
    switch(card.cat) {
      case 'RÃ¶sta tyst': container.style.backgroundColor = '#f28b82'; container.classList.add('rÃ¶sta'); break;
      case 'Dare or drink': container.style.backgroundColor = '#fbbc04'; container.classList.add('dare'); break;
      case 'Truth or drink': container.style.backgroundColor = '#34a853'; container.classList.add('truth'); break;
      case 'Drick om': container.style.backgroundColor = '#4285f4'; container.classList.add('drickom'); break;
      case 'Snurra flaskan': container.style.backgroundColor = '#9c27b0'; container.classList.add('snurra'); break;
      case 'Vote to drink': container.style.backgroundColor = '#00bfa5'; container.classList.add('vote'); break;
      case 'All inclusive': container.style.backgroundColor = '#ff6d00'; container.classList.add('allinclusive'); break;
      case 'Ã–vrigt': container.style.backgroundColor = '#8d6e63'; container.classList.add('other'); break;
      default: container.style.backgroundColor = '#000'; break;
    }

    // Fade-in animation
    container.style.opacity = 0;
    setTimeout(() => { container.style.opacity = 1; }, 50);
    container.style.transform = "scale(1.05)";
    setTimeout(() => { container.style.transform = "scale(1)"; }, 200);
  }
});
</script>

</body>
</html>
